<!DOCTYPE html>
<html lang="en">

    <%- include('./partials/head.ejs'); -%>

    <header class="flex-vertical">
        <div class="dentro-header">
            <img class="logo" src="/images/logo-prueba-prueba.png" alt="logo">
            
            <div class="nav-bar">
                <nav><!--nav> style="justify-content: space-around;"> -->
               
                            <!-- if NO SOY admin, muestro el menú de público -->
                            <ul type="none">
                            <!--el views de linea hogar cambiarlo por el de categoria cuando se tenga listo su html-->
                            <li><a href="/">Home</a></li>
                            <li><a href="#">Promociones</a></li>
                            <li><a href="#">Ofertas</a></li>
                            <li><a href="#">Ayuda</a></li>
                            </ul>
                            <br><br><br>
               
                            <!-- else soy admin, muestro el menú protegido de ABM de productos -->
                            <nav>
                                <nav  class="navbar_horflex nav-estilo-usuarios">
                                    <ul style="border: 1px solid purple; padding: 3px;">
                                        <li><a href="/usuarios/listar"><li>Listar usuarios</li></a></li>
                                        <li><a href="/usuarios/registro"><li>Registrar Usuarios</li></a></li>
                                        <li><a href="/usuarios/modificar"><li>Modificar Usuarios</li></a></li>
                                        <li><a href="/usuarios/eliminar"><li>Eliminar Usuarios</li></a></li>
                                    </ul>
                                    <ul style="border: 1px solid purple; padding: 3px;">
                                        <li><a href="/usuarios/perfil/listar"><li>Listar Perfiles</li></a></li>
                                        <li><a href="/usuarios/perfil/agregar"><li>Agregar Perfiles</li></a></li>
                                        <li><a href="/usuarios/perfil/modificar"><li>Modificar Perfiles</li></a></li>
                                        <li><a href="/usuarios/perfil/eliminar"><li>Eliminar Perfiles</li></a></li>
                                    </ul>
                                    <ul style="border: 1px solid purple; padding: 3px;">
                                        <li><a href="/usuarios/intereses/listar"><li>Listar Intereses</li></a></li>
                                        <li><a href="/usuarios/intereses/agregar"><li>Agregar Intereses</li></a></li>
                                        <li><a href="/usuarios/intereses/modificar"><li>Modificar Intereses</li></a></li>
                                        <li><a href="/usuarios/intereses/eliminar"><li>Eliminar Intereses</li></a></li>
                                    </ul>
                                </nav>
                                <br>
                                <nav class="navbar_horflex nav-estilo-productos">
                                    <ul style="border: 1px solid purple; padding: 3px;">
                                        <li><a href="/productos/listar"><li>Listar Productos</li></a></li>
                                        <li><a href="/productos/productoAgregar">Productos - Agregar</a></li>
                                        <li><a href="/productos/productoModificar">Productos - Modificar</a></li>
                                        <li><a href="/productos/productoDelete">Productos - Eliminar</a></li> 
                                    </ul>
                                    <ul style="border: 1px solid purple; padding: 3px;">
                                        <li><a href="/productos/linea/listar"><li>Listar Líneas</li></a></li>
                                        <li><a href="/productos/linea/agregar"><li>Agregar Líneas</li></a></li>
                                        <li><a href="/productos/linea/modificar"><li>Modificar Líneas</li></a></li>
                                        <li><a href="/productos/linea/eliminar"><li>Eliminar Líneas</li></a></li>
                                    </ul>
                                </nav>
                            </nav>
                                         
                </nav>
            </div>
            
            <div class="login-registro">
                <a href="/usuarios/login">Logging</a>    
                <a href="/usuarios/logout">Salir</a>   
                <a href="/usuarios/registro">Registrate</a>
                <a href="/productos/carrito">Mi Carrito<i class="fas fa-cart-plus"></i></a>
                <% if ( locals && locals.usuarioLogueado != undefined ) { %>
                    <strong><%= locals.usuarioLogueado.usuario %></strong>
                <% } %>                 
            </div>

        </div>

        <div class="menu-burger">
            <i class="fas fa-bars"></i>
        </div>

        <div class="buscador">
            <form method="POST" action="/productos/buscar">
                <input class="buscador-input" type="text" name="buscado" placeholder="Que producto buscas?"></input>
                <button type="submit" ><i class="fas fa-search"></i></button>
            </form>
        </div>
        
    </header>

<body>

    <main style="background-color: white">
        <center>
            <div class=formCrudDeProducto>
                <form class="cargaProducto" action="/productos/agregarProducto" method="POST" enctype="multipart/form-data">    
                    <table class="formTableCrudDeProducto">

                        <thead style="width: 100%;">
                            <tr><th><div style=" background-color: grey; border-radius: 5px;"><h3><p>Gestión de Productos - Cargar </p></h3></div></th></tr>
                        </thead>

                        <tbody style="width: 100%;">
                            <tr><td><label><span>Código de Producto</span></label></td></tr>
                            <tr><td><input type="text" name="codigo" class="codigo" required></td></tr>
                            <% if ( locals && locals.resultadoValidaciones ) { 
                                if ( resultadoValidaciones.codigo != undefined) { %>
                                    <p class="feedback"> <%= resultadoValidaciones.codigo.msg %></p>
                                <% } %>
                            <% } %>
                            <div class="text-danger" id="codigoError"></div>
        
                            <tr><td><label><span>Descripción</span></label></td></tr>
                            <tr><td><input type="text" name="nombre" class="nombre" required></td></tr>
                            <% if ( locals && locals.resultadoValidaciones ) { 
                                if ( resultadoValidaciones.nombre != undefined) { %>
                                    <p class="feedback"> <%= resultadoValidaciones.nombre.msg %></p>
                                <% } %>
                            <% } %>
                            <div class="text-danger" id="nonmbreError"></div>

                            <tr><td><label><span>Descripción Detallada</span></label></td></tr>
                            <tr><td><input type="text" name="descripcion" class="descripcion" required></td></tr>
                            <% if ( locals && locals.resultadoValidaciones ) { 
                                if ( resultadoValidaciones.descripcion!= undefined) { %>
                                    <p class="feedback"> <%= resultadoValidaciones.descripcion.msg %></p>
                                <% } %>
                            <% } %>
                            <div class="text-danger" id="desripcionError"></div>
                            
                            <tr><td><label><span>Línea</span></label></td></tr>
                            <tr>
                                <td>
                                    <select id="linea" name="linea" class="linea" required>
                                        <option>Seleccioná una Línea de Producto</option>
                                        <% for( let i = 0; (lineas.length - i) > 0; i++ ) { %>
                                            <option value="<%= lineas[i].id_lineas%>"> <%= lineas[i].nombre%></option>
                                        <% } %>
                                </td>
                            </tr>

                            <tr><td><label><span>Precio</span></label></td></tr>
                            <tr><td><input type="text" name="precio" class="precio" required></td></tr>
                            <% if ( locals && locals.resultadoValidaciones ) { 
                                if ( resultadoValidaciones.precio != undefined) { %>
                                    <p class="feedback"> <%= resultadoValidaciones.precio.msg %></p>
                                <% } %>
                            <% } %>
                            <div class="text-danger" id="precioError"></div>
        
                            <tr><td><label><span>Bonificación</span></label></td></tr>
                            <tr><td><input type="text" name="bonif" class="bonif" required></td></tr>
                            <% if ( locals && locals.resultadoValidaciones ) { 
                                if ( resultadoValidaciones.bonif != undefined) { %>
                                    <p class="feedback"> <%= resultadoValidaciones.bonif.msg %></p>
                                <% } %>
                            <% } %>
                            <div class="text-danger" id="bonifError"></div>

                            <tr><td><label><span>Cantidad</span></label></td></tr>
                            <tr><td><input type="text" name="cantidad" class="cantidad" required></td></tr>
                            <% if ( locals && locals.resultadoValidaciones ) { 
                                if ( resultadoValidaciones.cantidad != undefined) { %>
                                    <p class="feedback"> <%= resultadoValidaciones.cantidad.msg %></p>
                                <% } %>
                            <% } %>
                            <div class="text-danger" id="cantidadError"></div>
        
                            <tr><td><label><h3><span>Foto de Producto</span></h4></label></td></tr>
                            <tr><td><input type="file" name="foto" class="foto" required></td></tr>
                            <% if ( locals && locals.resultadoValidaciones ) { 
                                if ( resultadoValidaciones.foto != undefined) { %>
                                    <p class="feedback"> <%= resultadoValidaciones.foto.msg %></p>
                                <% } %>
                            <% } %>
                            <div class="text-danger" id="fotoError"></div>
                            <tr><td><div style=" background-color: grey; border-radius: 5px; height: 1px;"></div></td></tr>
                        </tbody>

                    </table>
                    <button type="submit" class="submit">Cargar Producto</button>

                </form>
                <div style=" background-color: whitesmoke; padding-top: 4px; height: 3px; "></div>
                
                <tr><td><div style="width: 97%; background-color: grey; border-radius: 5px; height: 2px;"></div></td></tr>

            </div>           

        </center>      
        
    </main>
    
    <%- include( './partials/footer.ejs' ); -%>

</body>
</html>